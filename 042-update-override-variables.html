<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Jenkins Docker CI (Vagrant Ansible)</title>

    <link type="text/css" rel="stylesheet" href="assets/css/reset.css">
    <link type="text/css" rel="stylesheet" href="http://yandex.st/highlightjs/6.1/styles/sunburst.min.css">
    <link type="text/css" rel="stylesheet" href="assets/css/docs.css">
    <link type="text/css" rel="stylesheet" href="assets/css/print.css" media="print">
    

    <script type="text/javascript" src="assets/js/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="http://yandex.st/highlightjs/6.1/highlight.min.js"></script>
    <script type="text/javascript" src="assets/js/lunr.min.js"></script>

    

    <script type="text/javascript">var BASE_URL = "";</script>
    <script type="text/javascript" src="assets/js/viewer.js"></script>

    
</head>
<body>
    <div id="page">
        <a name="top" />
        <header id="header">
            <h1><a href="">Jenkins Docker CI (Vagrant Ansible)</a></h1>
        </header>
        

<div id="sidebar">
    <form action="search.html"><input id="search" type="text" placeholder="Search" name="q" /></form>
    <nav id="toc">
        
    <ol>
    
        <li>
            <a href="home.html#home">Home</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="01-intro.html#introduction">Introduction</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-requirements-and-features.html#requirements">Requirements</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="02-requirements-and-features.html#features">Features</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="03-whats-already-inside.html#whats-already-inside">Whats already inside</a>
            
                
    <ol>
    
        <li>
            <a href="031-checkurl-groovy-script.html#checkurl-groovy-script">CheckUrl Groovy Script</a>
            
        </li>
    
        <li>
            <a href="032-saucelabs-python-script.html#saucelabs-python-script">SauceLabs Python Script</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="04-how-to-setup.html#how-to-setup">How to Setup</a>
            
                
    <ol>
    
        <li>
            <a href="041-verify-list-of-jenkins-plugins-and-jobs-to-be-installed.html#install-plugins">Install Plugins</a>
            
        </li>
    
        <li>
            <a href="041-verify-list-of-jenkins-plugins-and-jobs-to-be-installed.html#create-jobs">Create Jobs</a>
            
        </li>
    
        <li>
            <a href="041-verify-list-of-jenkins-plugins-and-jobs-to-be-installed.html#share-files-with-the-imagebox">Share Files with the Image/Box</a>
            
        </li>
    
        <li>
            <a href="042-update-override-variables.html#update-override-variables">Update Override Variables</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="05-create-jenkins-environment-with-vagrant.html#create-jenkins-environment-with-vagrant">Create Jenkins Environment with Vagrant</a>
            
                
    <ol>
    
        <li>
            <a href="051-provision-with-virtualbox.html#local-provisioning-with-virtualbox">Local provisioning with VirtualBox</a>
            
        </li>
    
        <li>
            <a href="052-provision-jenkins-with-aws.html#provision-with-aws-amazon-web-service">Provision with AWS (Amazon Web Service)</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="06-docker-build-pipelines.html#docker-build-pipeline">Docker Build Pipeline</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="07-documentation.html#documentation">Documentation</a>
            
                
    <ol>
    
        <li>
            <a href="07-documentation.html#about">About</a>
            
        </li>
    
        <li>
            <a href="07-documentation.html#editing-the-docs">Editing the Docs</a>
            
        </li>
    
        <li>
            <a href="07-documentation.html#generate-documentation-website">Generate Documentation Website</a>
            
        </li>
    
        <li>
            <a href="07-documentation.html#deploy-docs-to-gh-pages">Deploy Docs to GH-Pages</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="08-development.html#development">Development</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
        <li>
            <a href="known-issues.html#known-issues">Known Issues</a>
            
                
    <ol>
    
        <li>
            <a href="known-issues.html#issue-shared-workspace-jenkins-plugin-woes">Issue: shared-workspace Jenkins Plugin woes</a>
            
        </li>
    
        <li>
            <a href="known-issues.html#issue-invalid-machine-state-when-provisioning">Issue: Invalid machine state when provisioning</a>
            
        </li>
    
        <li>
            <a href="known-issues.html#issue-ansiblehost-turned-into-executable-file">Issue: ansible.host turned into executable file</a>
            
        </li>
    
        <li>
            <a href="known-issues.html#issue-ansible-provisioning-fails-when-using-jenkins-cli">Issue: Ansible Provisioning fails when using Jenkins CLI</a>
            
        </li>
    
        <li>
            <a href="known-issues.html#issue-ansible-provisioning-with-aws-fails-with-ssh-exception">Issue: Ansible Provisioning with AWS fails with SSH Exception</a>
            
        </li>
    
</ol>

            
        </li>
    
        <li>
            <a href="license.html#license">License</a>
            
                
    <ol>
    
</ol>

            
        </li>
    
</ol>

    </nav>
    
    <nav id="links">
        <ul>
            
        </ul>
    </nav>
    
</div>

        <div id="content">
            <h2 id="update-override-variables">Update Override Variables</h2>
<h3 id="where-to-find-these-">Where to find these?</h3>
<p>These variables are located in different files in the <strong><em>provisioners/ansible/extra_vars</em></strong> folder. The file to change will depend on the environment you are provisioning.</p>
<h4 id="check-update-waiting-time-for-jenkins-restarts">Check/Update Waiting time for jenkins restarts</h4>
<p>To override the time it waits (in seconds) for Jenkins to start please edit the respective file in the <strong><em>provisioners/ansible/extra_vars</em></strong> folder</p>
<pre><code class="lang-yaml">startup_delay_s: 50
</code></pre>
<h4 id="set-git-credentials">Set Git Credentials</h4>
<p>Update the git name and email to the credentials specific to your Jenkins setup</p>
<h5 id="settings-">Settings:</h5>
<ul>
<li><strong><em>enable_configure:</em></strong> This enables the configuration of this plugin. When <code>false</code> will skip the configuration</li>
<li><strong><em>email:</em></strong> This is the email of the Jenkins git user, will be used when the ci makes commits to git repositories</li>
<li><strong><em>name:</em></strong> This is the full name of the Jenkins git user, will be used when the ci makes commits to git repositories</li>
</ul>
<p>eg.</p>
<pre><code class="lang-yaml">git:
  enable_configure: true
  email: &#39;noreply@gmail.com&#39;
  name: &#39;Jenkins CI&#39;
</code></pre>
<h4 id="set-rally-variables-to-preconfigure-plugin">Set Rally Variables to Preconfigure Plugin</h4>
<h5 id="settings-">Settings:</h5>
<ul>
<li><strong><em>enable_configure:</em></strong> This enables the configuration of this plugin. When <code>false</code> will skip the configuration</li>
<li><strong><em>server:</em></strong> This is rally&#39;s website address</li>
<li><strong><em>email:</em></strong> Email (username) registered with rally</li>
<li><strong><em>jenkins_machine:</em></strong> This is the domain name and port of the Jenkins server</li>
</ul>
<p>eg.</p>
<pre><code class="lang-yaml">rally:
  enable_configure: true
  server: &quot;rally1.rallydev.com&quot;
  email: &quot;&quot;
  jenkins_machine: &quot;localhost:8080&quot;
</code></pre>
<p>Please note that this step does not fully configure the rally plugin. You will have to navigate to <strong><em>configure system</em></strong> when Jenkins goes live and enter the password for the rally user/email</p>
<h4 id="edit-github-security-settings">Edit GitHub Security Settings</h4>
<p>To setup Jenkins security please edit the respective file in the <strong><em>provisioners/ansible/extra_vars</em></strong> folder with the necessary variables</p>
<h5 id="settings-">Settings:</h5>
<ul>
<li><strong><em>enable_security:</em></strong> This flag tells the playbook to enable security for the Jenkins instance. If false, the playbook will skip enabling security.</li>
<li><strong><em>jenkins_admins:</em></strong> This is a list of github usernames that will have admin rights in the Jenkins instance</li>
<li><strong><em>github_orgNames:</em></strong> This is a list of organisations that will have access to the Jenkins instance, including non-admin users. If omitted then only admins will have access.</li>
<li><strong><em>github_clientId:</em></strong> This is a github application Client ID</li>
<li><strong><em>github_clientSecret:</em></strong> This is a github application Client Secret</li>
</ul>
<p>To get the information from github:</p>
<ul>
<li><a href="https://github.com/settings/applications/new">Create a GitHub Application</a> that will provide the <strong><em>clientid</em></strong> and <strong><em>clientsecret</em></strong>.</li>
<li>Set Authorization Callback URL:   <strong><em><a href="http://{jenkins-server}:{port}/securityRealm/finishLogin">http://{jenkins-server}:{port}/securityRealm/finishLogin</a></em></strong></li>
</ul>
<p>eg.</p>
<pre><code class="lang-yaml">security:
  enable_security: true,
  jenkins_admins: &quot;admin1,admin2&quot;, #comma delimited list eg. &quot;admin1,admin2&quot;
  github_orgNames: &quot;medullan&quot;, #comma delimited list eg. &quot;medullan,google&quot;
  github_clientId: &quot;532534253fw3245&quot;,
  github_clientSecret: &quot;32refwdfs324rewf343q4rwqr32qr&quot;
</code></pre>
<h4 id="things-to-note-">Things to Note:</h4>
<p>If there are raw xml config files that you want to be copied to Jenkins. Then simply adding them to the <strong><em>provisioners/ansible/files/jenkins/config</em></strong> directory will get them to Jenkins for pre-configuration.</p>
<h4 id="configure-jenkins-memory">Configure Jenkins Memory</h4>
<p>Configure the heap size Jenkins will be assigned on startup.</p>
<ul>
<li><strong><em>enable_configure:</em></strong> This flag tells the playbook to enable security for the Jenkins instance. If false, the playbook will skip enabling security.</li>
<li><strong><em>maxPermSize:</em></strong> Assign the MaxPermSize that jenkins will be assigned (&quot;-XX:MaxPermSize=512m&quot;)</li>
<li><strong><em>memory:</em></strong> sets the heap size assigned to jenkins (&#39;-Xmx1024m&#39;)</li>
</ul>
<p>eg.</p>
<pre><code class="lang-yaml">jenkins_opts:
  enable_configure: true,
  maxPermSize: 512, # cannot be less than 512
  memory: 1024 # cannot be less than 256
</code></pre>
<h4 id="install-global-npm-packages">Install global npm packages</h4>
<ul>
<li><strong><em>global_packages:</em></strong> This is a space delimited list of npm packges eg. &#39;bower grunt-cli&#39;</li>
</ul>
<p>eg.</p>
<pre><code class="lang-yaml">npm:   # bower, grunt-cli and istanbul are installed by default
  global_packages: &quot;doxx npm-check-updates&quot; # global_packages is a space delimited list eg. &#39;bower grunt-cli&#39;
</code></pre>




        </div>
        <footer id="footer">
            Powered by <a href="http://github.com/maximebf/beautiful-docs">beautiful-docs</a> -
            <a href="#top">Back to top</a> - <a href="all.html">Everything on a single page</a>
            - <a href="?print=1">Print current page</a> - <a href="all.html?print=1">Print all pages</a>
            
                <a href="https://github.com/https://github.com/medullan/vagrant-ansible-jenkins.git" id="fork-me-on-github">Fork me on Github</a>
            
        </footer>
    </div>
</body>
</html>
